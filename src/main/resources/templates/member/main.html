<!-- 좌측 고정 네비게이션 바 -->
<div class="sidebar">
    <div class="container">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAnonymous()" th:href="@{/member/login}">로그인</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAuthenticated()" th:href="@{/member/logout}">로그아웃</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAuthenticated()" th:href="@{/member/modify}">정보수정</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAuthenticated()" th:href="@{/member/delete}">계정 삭제</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAuthenticated()" th:href="@{/member/search}">비밀번호 변경</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" sec:authorize="isAnonymous()" th:href="@{/member/signup}">회원가입</a>
            </li>
            <div>
                <li class="nav-item" th:if="${dto != null && dto.memberstatus == 'admin' }">
                    <a class="nav-link" th:href="@{/member/admin}">관리자페이지</a>
                </li>           
            </div>
            <div>
            	<li class="nav-item">
                	<a class="nav-link"  th:href="@{/post/create}">글쓰기</a>
                	<a class="nav-link"  th:href="@{/post/list}">글목록</a>
            	</li>
            </div>
        </ul>
    </section>

    <!-- 진료과목 섹션 -->
    <section class="mb-5">
        <h3 class="mb-3">🩺 진료과목별 병원 검색</h3>
        <div class="d-flex flex-wrap gap-3">
            <a th:href="@{/hospital/list?category=내과}" class="btn btn-outline-primary">내과</a>
            <a th:href="@{/hospital/list?category=정형외과}" class="btn btn-outline-primary">정형외과</a>
            <a th:href="@{/hospital/list?category=피부과}" class="btn btn-outline-primary">피부과</a>
            <a th:href="@{/hospital/list?category=이비인후과}" class="btn btn-outline-primary">이비인후과</a>
            <a th:href="@{/hospital/list?category=치과}" class="btn btn-outline-primary">치과</a>
        </div>
    </section>
    
    <section class="mb-5">
  <h3 class="mb-3">📊 인기 병원 순위</h3>
  <ul id="popularList" class="list-group"></ul>
</section>
    
    <!-- 최신 리뷰 섹션 -->
    <section>
        <h3 class="mb-3">📝 최신 리뷰</h3>
        <div class="card mb-3" th:each="review : ${reviewList}">
            <div class="card-body">
                <h5 class="card-title" th:text="${review.hospitalName}">병원 이름</h5>
                <p class="card-text" th:text="${review.content}">리뷰 내용</p>
                <p class="card-text"><small class="text-muted" th:text="${review.createdDate}">작성일</small></p>
            </div>
        </div>
    </section>


</div>

<script>
window.onload = function() {     
    // 주소 없을 시 자동으로 수정 폼으로 이동 + alert 창 같이 
    if ("[[${dto.address}]]" === "null" || "[[${dto.address}]]" === "") { 
        console.log("주소 값이 null임. alert 창을 띄우고 페이지를 이동합니다.");
        
        // 안내용 alert 창 띄우기
        alert("주소 및 개인정보가 필요합니다. 해당 페이지에서 수정해주세요.");

        // 강제로 /member/modify 페이지로 이동
        window.location.href = "/member/modify";
    } else {
        console.log("주소 값이 null이 아님. 페이지 이동하지 않음.");
    }
};
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</html>

